---
apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata:
  name: nginx-internal
  namespace: nginx
spec:
  chart:
    spec:
      # renovate: registryUrl=https://kubernetes.github.io/ingress-nginx
      chart: ingress-nginx
      version: 4.9.0
  values:
    controller:
      service:
        annotations:
          kube-vip.io/ignore: true
        loadBalancerIP: ${internal_ingress_ip}
---
apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata:
  name: nginx-external
  namespace: nginx
spec:
  chart:
    spec:
      # renovate: registryUrl=https://kubernetes.github.io/ingress-nginx
      chart: ingress-nginx
      version: 4.9.0
  values:
    controller:
      service:
        annotations:
          kube-vip.io/ignore: true
        loadBalancerIP: ${external_ingress_ip}
